<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: assets/scripts/priceHelper.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: assets/scripts/priceHelper.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Given a Poké TCG API card object, computes and formats the market‐price range
 * across all available pricing variants, or returns a fallback if none exist.
 *
 * @param {Object} fullCard
 *   The full card data as returned by the Poké TCG API.
 * @param {Object} [fullCard.tcgplayer]
 *   Optional TCGPlayer block containing pricing information.
 * @param {Object.&lt;string, {market:number}>} [fullCard.tcgplayer.prices]
 *   An object whose keys are variant names (e.g. "normal", "reverseHolofoil")
 *   and whose values contain a `market` number.
 * @returns {string}
 *   A formatted price string:
 *     - `"$X.XX"` if all variants share the same market price,  
 *     - `"$X.XX – $Y.YY"` if there’s a range,  
 *     - `"Price unavailable"` if no data is present.
 */
export function formatMarketPrice(fullCard) {
  const prices = fullCard?.tcgplayer?.prices;
  if (!prices) return 'Price unavailable';

  const markets = Object.values(prices)
    .map(p => p.market)
    .filter(p => typeof p === 'number');

  if (markets.length === 0) {
    return 'Price unavailable';
  }

  const min = Math.min(...markets);
  const max = Math.max(...markets);

  return min === max
    ? `$${min.toFixed(2)}`
    : `$${min.toFixed(2)} – $${max.toFixed(2)}`;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PokemonBinder.html">PokemonBinder</a></li><li><a href="PokemonCollection.html">PokemonCollection</a></li></ul><h3>Global</h3><ul><li><a href="global.html#COLLECTION_KEY">COLLECTION_KEY</a></li><li><a href="global.html#formatMarketPrice">formatMarketPrice</a></li><li><a href="global.html#getAllSets">getAllSets</a></li><li><a href="global.html#getCardById">getCardById</a></li><li><a href="global.html#getCardsByName">getCardsByName</a></li><li><a href="global.html#getCardsByNameAndNumber">getCardsByNameAndNumber</a></li><li><a href="global.html#getCardsByPage">getCardsByPage</a></li><li><a href="global.html#getCardsBySet">getCardsBySet</a></li><li><a href="global.html#handleAddCard">handleAddCard</a></li><li><a href="global.html#initializeFilters">initializeFilters</a></li><li><a href="global.html#showAddCardModal">showAddCardModal</a></li><li><a href="global.html#showAssignCardModal">showAssignCardModal</a></li><li><a href="global.html#showBinder">showBinder</a></li><li><a href="global.html#showCollection">showCollection</a></li><li><a href="global.html#showOfflineAddCardModal">showOfflineAddCardModal</a></li><li><a href="global.html#turnPageLeft">turnPageLeft</a></li><li><a href="global.html#turnPageRight">turnPageRight</a></li><li><a href="global.html#updateBinder">updateBinder</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jun 09 2025 07:00:18 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
